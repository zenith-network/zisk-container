= Zisk Docker

Docker image for ZisK v0.14 with GPU support.

== Setup

[source,sh]
----
# Clone this repository.
git clone https://github.com/zenith-network/zisk-container.git && cd ./zisk-container

# Build image.
docker build -t zisk-docker .

# Clean up pre-existing `.zisk` directory on host.
rm -rf ~/.zisk
mkdir -p ~/.zisk

# Copy `.zisk` content from the image to host.
docker run --rm -v ~/.zisk:/host-zisk zisk-docker bash -c \
  "cp -r /root/.zisk/* /host-zisk/"

# Put ZisK binaries in PATH.
echo 'export PATH="$HOME/.zisk/bin:$PATH"' >> ~/.bashrc
source ~/.bashrc

# Fix permissions.
sudo chown -R ubuntu:ubuntu /home/ubuntu/.zisk

# Generate tree files.
cargo-zisk check-setup -a
----

== Usage

TIP: Example guest and input file is provided in this repository - see `./assets`.

. Run ROM setup:
+
[source,sh]
----
cargo-zisk rom-setup -e ./zisk-reth-proofs.elf
----

. Emulate execution - just to verify it works without crashing:
+
[source,sh]
----
ziskemu -e ./zisk-reth-proofs.elf -i ./23881681.bin -m
----

. Prove block:
+
[source,sh]
----
cargo-zisk prove -e ./zisk-reth-proofs.elf -i ./23881681.bin -o /tmp/out -a -u
----
