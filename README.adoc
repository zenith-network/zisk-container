= Zisk Docker

Docker image for ZisK v0.14 with GPU support.

== Setup

[source,sh]
----
# Clone this repository.
git clone https://github.com/zenith-network/zisk-container.git && cd ./zisk-container

# Build image.
docker build -t zisk-docker .

# Clean up pre-existing `.zisk` directory on host.
rm -rf ~/.zisk
mkdir -p ~/.zisk

# Copy `.zisk` content from the image to host.
docker run --rm -v ~/.zisk:/host-zisk zisk-docker bash -c \
  "cp -r /root/.zisk/* /host-zisk/"

# Put ZisK binaries in PATH.
echo 'export PATH="$HOME/.zisk/bin:$PATH"' >> ~/.bashrc
source ~/.bashrc

# Fix permissions.
sudo chown -R ubuntu:ubuntu /home/ubuntu/.zisk

# Generate tree files.
cargo-zisk check-setup -a
----

== Usage

Download test files:

[source,sh]
----
wget https://github.com/0xPolygonHermez/zisk-ethproofs/raw/a0e6b65951dfb9a001e8a203fc69372106bd4c5e/bin/ethproofs-client/elf/zec-keccakf-k256-sha2-bn254.elf
wget https://github.com/0xPolygonHermez/zisk-eth-client/blob/530f732f4d45d811103bd2db9700edcdb69c66cb/inputs/22767493_185_14.bin
----

Run ROM setup:

[source,sh]
----
cargo-zisk rom-setup -e ./zec-keccakf-k256-sha2-bn254.elf
----

Prove block:

[source,sh]
----
cargo-zisk prove -e ./zec-keccakf-k256-sha2-bn254.elf -i ./22767493_185_14.bin -o /tmp/out -a -u
----
